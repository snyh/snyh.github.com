<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="author" content="">
<meta name="keywords" content="">
<title> snyh  </title>
<link rel="stylesheet" href="/assets/css/bootstrap.min.css">
<link rel="stylesheet" href="/assets/css/page.css">


<style>
body {
	padding-top: 60px;
}
</style>
<link href="/assets/css/bootstrap-responsive.min.css" rel="stylesheet">
<!--[if lt IE9]>
<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<link rel="shortcut icon" href="/assets/img/favicon.png">
</head>
<body>

<div class="navbar navbar-fixed-top">
<div class="navbar-inner">

<div class="container">

<a class="brand" href=""> snyh.org </a>

<ul class="nav">

<li><a href=/>主页</a></li>

<li><a href=/blog/>随笔</a></li>

<li><a href=/album/>往夕</a></li>

<li><a href=/project/>实验田</a></li>

<li><a href=/about.html>关于</a></li>

</ul>

<div class="pull-right">

<!-- JiaThis Button BEGIN -->
<span id="jiathis_style_32x32">
	<a class="jiathis_button_tsina"></a>
	<a class="jiathis_button_tqq"></a>
	<a class="jiathis_button_renren"></a>
	<a class="jiathis_button_kaixin001"></a>
	<a class="jiathis_button_douban"></a>
	<a class="jiathis_button_qzone"></a>
	<a class="jiathis_button_pdfonline"></a>
	<a href="http://www.jiathis.com/share?uid=1584728" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
	<a class="jiathis_counter_style"></a>
</span>
<!-- JiaThis Button END -->

<input type="text" class="search-query" placeholder="Search">
</div>

</div>

</div>
</div>




<div class="container">
<div class="row">
<div class="span9">
			<span><strong></strong></span> 
			<small></small>

<hr>


<h2>
<a href=/blog/2011/08/03/design-concept-of-jslib.html>设计理念（上）：基础库结构设计</a>
<a href="/blog/category/introduction"><span class="label label-info">introduction</span></a>

</h2> 
<small>时间:2011-08-03 00:00:00 +0800 </small>


<span>
	
	<a href="/blog/tags/JavaScript"><span class="label label-info">JavaScript</span></a>
	
	<a href="/blog/tags/js"><span class="label label-info">js</span></a>
	
	<a href="/blog/tags/library"><span class="label label-info">library</span></a>
	
	<a href="/blog/tags/基础库"><span class="label label-info">基础库</span></a>
	
	<a href="/blog/tags/结构设计"><span class="label label-info">结构设计</span></a>
	
	<a href="/blog/tags/规范"><span class="label label-info">规范</span></a>
	
</span>


<hr>


<p> 对于一个JavaScript基础库，最重要的无外乎API简单，稳定，有良好的通用性，只解决最基本的问题，同时便于理解学习。其实这么说起来很像百度的Tangram的初衷，但elf+js还是略有不同。

虽然JavaScript不是一门支持面向对象编程的语言，但他具有很多面向对象的特性。如果利用得当，面向对象的编程方法将是使用JS构建大型Web应用的较为容易分清各种模块结构的方式。基础库会涵盖很多基本的功能基于这个思路，如果按jQuery针对DOM的设计是不合适的，所有的扩展都会依附在jQuery对象本身上，很难从一个巨长的插件列表上方便的区分各种功能的类型。所以我转向参考了dojo、YUI、Ext和Tangram等，还是设计了“命名空间.包名.类名”的代码组织形式。同时我坚持使用了Java中命名规范：

* 包名小写，如：`js`，`js.dom`，`js.net`等；
* 类名首字母大写驼峰，如：`js.dom.ClassName`，`js.net.Ajax`等；
* 类成员(变量/方法)首字母小写驼峰，如：`js.dom.ClassName.add()`，`js.net.Ajax.option`等；
* 常量命名全部大写，如：`js.net.Ajax.HTTP_GET`等；
* 类名、包结构与文件名、文件夹一一对应；

这样设计的好处是结构条理清晰，便于理解和统一认识。

规范上除了上面的命名大小写等，还有一点最重要的就是所有的功能设计都需要依附于一个类，就算是很常用很通用的方法。例如给DOM元素添加class的`addClass`方法，在Tangram中这个API是`baidu.dom.addClass`，而在elf+js里是`js.dom.ClassName.add`。看起来长了一级命名空间，的确是很不方便，还有可能不利于理解，但实际上这是一种对认识的统一，因为这样规范了写法以后，不会出现一个包下既有类又有方法的情况。而且现在看起来可能难用一点，但是配合上elf以后就会变的非常简单。针对底层API规范的设计和易用性的设计有时候是互斥的，这个话题以后会谈到。

在文件划分粒度上主要以类为主，每一个类即一个文件，因为这都是包含同一组方法的相关功能，但允许一些相关性不大的静态方法的定义文件独立于主类文件之外。这样做的考虑是在打包的时候可以灵活选取需要的和剪除不要的，以达到最小导出打包的目的，同时方法仍是依附于一个类的，也不违反上面定义的规范。这个特性相关的例子可以在`js.dom.Stage.*`里查到。

综合上面提到的这些方面来看，elf+js的底层API部分是非常灵活的，可以任意的加入更多功能，而且通过这样的命名方式也很容易找到常用的API位置，再配合API文档，学习起来就变的非常简单了。
 </p>


<a href="/blog/2011/08/03/design-concept-of-jslib.html">Read more...</a>

<br/>



<hr>
		<ul class="pager">

<li class="previous"><a href="#">Nothing</a></li>



<li class="next"><a href="#">Nothing</a></li>


</ul>

<!-- PingLun.La Begin -->
<div id="pinglunla_here">
<span class="lable lable-info">评论系统载入中</span>
</div>
<!-- PingLun.La End -->

</div>
<div class="span3">
<div class="slidebar span3">
	<div class="">
	<h3>标签云</h3>

				<a href="/blog/tags/0.3.0">
					<span style="font-size:75%">0.3.0</span> 
				</a>
				
				<a href="/blog/tags/0.3.1">
					<span style="font-size:75%">0.3.1</span> 
				</a>
				
				<a href="/blog/tags/0.3.2">
					<span style="font-size:75%">0.3.2</span> 
				</a>
				
				<a href="/blog/tags/0.3.3">
					<span style="font-size:75%">0.3.3</span> 
				</a>
				
				<a href="/blog/tags/JavaScript">
					<span style="font-size:211%">JavaScript</span> 
				</a>
				
				<a href="/blog/tags/Shortcut">
					<span style="font-size:75%">Shortcut</span> 
				</a>
				
				<a href="/blog/tags/bugfix">
					<span style="font-size:211%">bugfix</span> 
				</a>
				
				<a href="/blog/tags/elf">
					<span style="font-size:143%">elf</span> 
				</a>
				
				<a href="/blog/tags/elf+js">
					<span style="font-size:280%">elf+js</span> 
				</a>
				
				<a href="/blog/tags/js">
					<span style="font-size:211%">js</span> 
				</a>
				
				<a href="/blog/tags/library">
					<span style="font-size:211%">library</span> 
				</a>
				
				<a href="/blog/tags/project">
					<span style="font-size:75%">project</span> 
				</a>
				
				<a href="/blog/tags/release">
					<span style="font-size:280%">release</span> 
				</a>
				
				<a href="/blog/tags/snyh">
					<span style="font-size:75%">snyh</span> 
				</a>
				
				<a href="/blog/tags/test">
					<span style="font-size:75%">test</span> 
				</a>
				
				<a href="/blog/tags/交流">
					<span style="font-size:75%">交流</span> 
				</a>
				
				<a href="/blog/tags/原因">
					<span style="font-size:75%">原因</span> 
				</a>
				
				<a href="/blog/tags/参与">
					<span style="font-size:75%">参与</span> 
				</a>
				
				<a href="/blog/tags/发布">
					<span style="font-size:280%">发布</span> 
				</a>
				
				<a href="/blog/tags/基础库">
					<span style="font-size:211%">基础库</span> 
				</a>
				
				<a href="/blog/tags/想法">
					<span style="font-size:75%">想法</span> 
				</a>
				
				<a href="/blog/tags/易用性">
					<span style="font-size:75%">易用性</span> 
				</a>
				
				<a href="/blog/tags/来信">
					<span style="font-size:75%">来信</span> 
				</a>
				
				<a href="/blog/tags/版本">
					<span style="font-size:280%">版本</span> 
				</a>
				
				<a href="/blog/tags/积累">
					<span style="font-size:75%">积累</span> 
				</a>
				
				<a href="/blog/tags/结构设计">
					<span style="font-size:75%">结构设计</span> 
				</a>
				
				<a href="/blog/tags/规范">
					<span style="font-size:75%">规范</span> 
				</a>
				
				<a href="/blog/tags/设计">
					<span style="font-size:75%">设计</span> 
				</a>
				
				<a href="/blog/tags/轮子">
					<span style="font-size:75%">轮子</span> 
				</a>
				
	</div>

	<div class="">
	<h3>文章分类</h3>
<a href="/blog/category/communication">communication <strong>(1)</strong></a><br/><a href="/blog/category/release">release <strong>(4)</strong></a><br/><a href="/blog/category/test">test <strong>(1)</strong></a><br/><a href="/blog/category/blogtest2">blogtest2 <strong>(1)</strong></a><br/><a href="/blog/category/blogtest">blogtest <strong>(1)</strong></a><br/><a href="/blog/category/introduction">introduction <strong>(3)</strong></a><br/>
	</div>

	<div class="">
	<h3>文章归档</h3>
<a href="/blog/2012#m3">2012/3 <strong>(3)</strong></a><br/><a href="/blog/2012#m2">2012/2 <strong>(2)</strong></a><br/><a href="/blog/2011#m12">2011/12 <strong>(3)</strong></a><br/><a href="/blog/2011#m8">2011/8 <strong>(3)</strong></a><br/>
	</div>
</div>

</div>
</div>


<div id="Footer">
create by snyh
</div>

</div>

<script src="/assets/js/jquery-1.7.1.min.js"></script>
<script src="/assets/js/bootstrap.min.js"></script>


<script>
$(function(){

});

var jiathis_config = {data_track_clickback:true};
</script>


</body>
</html>
